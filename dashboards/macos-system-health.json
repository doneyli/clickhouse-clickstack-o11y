{
    "name": "macOS System Health",
    "tags": ["system", "macos", "infrastructure"],
    "charts": [
        {
            "id": "avg-cpu-percent",
            "name": "Avg CPU %",
            "x": 0, "y": 0, "w": 3, "h": 2,
            "series": [{
                "type": "number",
                "table": "logs",
                "aggFn": "avg",
                "field": "system.cpu.percent",
                "where": "span_name:cpu-load-sample service:macos-system-monitor",
                "numberFormat": { "output": "number", "mantissa": 1, "factor": 1, "thousandSeparated": false, "average": false, "decimalBytes": false }
            }],
            "seriesReturnType": "column"
        },
        {
            "id": "avg-memory-percent",
            "name": "Avg Memory %",
            "x": 3, "y": 0, "w": 3, "h": 2,
            "series": [{
                "type": "number",
                "table": "logs",
                "aggFn": "avg",
                "field": "system.memory.percent",
                "where": "span_name:memory-pressure-check service:macos-system-monitor",
                "numberFormat": { "output": "number", "mantissa": 1, "factor": 1, "thousandSeparated": false, "average": false, "decimalBytes": false }
            }],
            "seriesReturnType": "column"
        },
        {
            "id": "disk-usage-percent",
            "name": "Disk Usage %",
            "x": 6, "y": 0, "w": 3, "h": 2,
            "series": [{
                "type": "number",
                "table": "logs",
                "aggFn": "avg",
                "field": "system.disk.percent",
                "where": "span_name:disk-io-sample service:macos-system-monitor",
                "numberFormat": { "output": "number", "mantissa": 1, "factor": 1, "thousandSeparated": false, "average": false, "decimalBytes": false }
            }],
            "seriesReturnType": "column"
        },
        {
            "id": "total-health-checks",
            "name": "Health Checks",
            "x": 9, "y": 0, "w": 3, "h": 2,
            "series": [{
                "type": "number",
                "table": "logs",
                "aggFn": "count",
                "where": "span_name:system-health-check service:macos-system-monitor",
                "numberFormat": { "output": "number", "mantissa": 0, "factor": 1, "thousandSeparated": true, "average": false, "decimalBytes": false }
            }],
            "seriesReturnType": "column"
        },
        {
            "id": "cpu-percent-over-time",
            "name": "CPU % Over Time",
            "x": 0, "y": 2, "w": 6, "h": 3,
            "series": [{
                "type": "time",
                "table": "logs",
                "aggFn": "avg",
                "field": "system.cpu.percent",
                "where": "span_name:cpu-load-sample service:macos-system-monitor",
                "groupBy": []
            }],
            "seriesReturnType": "column"
        },
        {
            "id": "memory-percent-over-time",
            "name": "Memory % Over Time",
            "x": 6, "y": 2, "w": 6, "h": 3,
            "series": [{
                "type": "time",
                "table": "logs",
                "aggFn": "avg",
                "field": "system.memory.percent",
                "where": "span_name:memory-pressure-check service:macos-system-monitor",
                "groupBy": []
            }],
            "seriesReturnType": "column"
        },
        {
            "id": "load-averages-over-time",
            "name": "Load Averages (1m / 5m / 15m)",
            "x": 0, "y": 5, "w": 6, "h": 3,
            "series": [
                {
                    "type": "time",
                    "table": "logs",
                    "aggFn": "avg",
                    "field": "system.load.1m",
                    "where": "span_name:cpu-load-sample service:macos-system-monitor",
                    "groupBy": []
                },
                {
                    "type": "time",
                    "table": "logs",
                    "aggFn": "avg",
                    "field": "system.load.5m",
                    "where": "span_name:cpu-load-sample service:macos-system-monitor",
                    "groupBy": []
                },
                {
                    "type": "time",
                    "table": "logs",
                    "aggFn": "avg",
                    "field": "system.load.15m",
                    "where": "span_name:cpu-load-sample service:macos-system-monitor",
                    "groupBy": []
                }
            ],
            "seriesReturnType": "column"
        },
        {
            "id": "memory-gb-over-time",
            "name": "Memory (GB): Used vs Available",
            "x": 6, "y": 5, "w": 6, "h": 3,
            "series": [
                {
                    "type": "time",
                    "table": "logs",
                    "aggFn": "avg",
                    "field": "system.memory.used_gb",
                    "where": "span_name:memory-pressure-check service:macos-system-monitor",
                    "groupBy": []
                },
                {
                    "type": "time",
                    "table": "logs",
                    "aggFn": "avg",
                    "field": "system.memory.available_gb",
                    "where": "span_name:memory-pressure-check service:macos-system-monitor",
                    "groupBy": []
                }
            ],
            "seriesReturnType": "column"
        },
        {
            "id": "cpu-breakdown-over-time",
            "name": "CPU Breakdown: User / System / Idle",
            "x": 0, "y": 8, "w": 6, "h": 3,
            "series": [
                {
                    "type": "time",
                    "table": "logs",
                    "aggFn": "avg",
                    "field": "system.cpu.user_percent",
                    "where": "span_name:cpu-load-sample service:macos-system-monitor",
                    "groupBy": []
                },
                {
                    "type": "time",
                    "table": "logs",
                    "aggFn": "avg",
                    "field": "system.cpu.system_percent",
                    "where": "span_name:cpu-load-sample service:macos-system-monitor",
                    "groupBy": []
                },
                {
                    "type": "time",
                    "table": "logs",
                    "aggFn": "avg",
                    "field": "system.cpu.idle_percent",
                    "where": "span_name:cpu-load-sample service:macos-system-monitor",
                    "groupBy": []
                }
            ],
            "seriesReturnType": "column"
        },
        {
            "id": "disk-usage-gb-over-time",
            "name": "Disk Usage (GB): Used vs Free",
            "x": 6, "y": 8, "w": 6, "h": 3,
            "series": [
                {
                    "type": "time",
                    "table": "logs",
                    "aggFn": "avg",
                    "field": "system.disk.used_gb",
                    "where": "span_name:disk-io-sample service:macos-system-monitor",
                    "groupBy": []
                },
                {
                    "type": "time",
                    "table": "logs",
                    "aggFn": "avg",
                    "field": "system.disk.free_gb",
                    "where": "span_name:disk-io-sample service:macos-system-monitor",
                    "groupBy": []
                }
            ],
            "seriesReturnType": "column"
        },
        {
            "id": "health-checks-over-time",
            "name": "Health Checks Over Time",
            "x": 0, "y": 11, "w": 6, "h": 3,
            "series": [{
                "type": "time",
                "table": "logs",
                "aggFn": "count",
                "where": "service:macos-system-monitor",
                "groupBy": ["span_name"]
            }],
            "seriesReturnType": "column"
        },
        {
            "id": "swap-percent-over-time",
            "name": "Swap Memory % Over Time",
            "x": 6, "y": 11, "w": 6, "h": 3,
            "series": [{
                "type": "time",
                "table": "logs",
                "aggFn": "avg",
                "field": "system.memory.swap_percent",
                "where": "span_name:memory-pressure-check service:macos-system-monitor",
                "groupBy": []
            }],
            "seriesReturnType": "column"
        }
    ]
}
